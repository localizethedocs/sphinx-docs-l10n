# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2007-2022, Georg Brandl and the Sphinx team
# This file is distributed under the same license as the Sphinx package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Sphinx 4\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-09-03 20:13+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_TW\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../development/theming.rst:2
msgid "HTML theme development"
msgstr "HTML 主題開發"

#: ../../../development/theming.rst:8
msgid ""
"This document provides information about creating your own theme. If you "
"simply wish to use a pre-existing HTML themes, refer to :doc:`/usage/"
"theming`."
msgstr ""

#: ../../../development/theming.rst:12
msgid ""
"Sphinx supports changing the appearance of its HTML output via *themes*.  A "
"theme is a collection of HTML templates, stylesheet(s) and other static "
"files. Additionally, it has a configuration file which specifies from which "
"theme to inherit, which highlighting style to use, and what options exist "
"for customizing the theme's look and feel."
msgstr ""

#: ../../../development/theming.rst:18
msgid ""
"Themes are meant to be project-unaware, so they can be used for different "
"projects without change."
msgstr ""

#: ../../../development/theming.rst:23
msgid ""
"See :ref:`dev-extensions` for more information that may be helpful in "
"developing themes."
msgstr ""

#: ../../../development/theming.rst:28
msgid "Creating themes"
msgstr "建立主題"

#: ../../../development/theming.rst:30
msgid ""
"Themes take the form of either a directory or a zipfile (whose name is the "
"theme name), containing the following:"
msgstr ""

#: ../../../development/theming.rst:33
msgid "A :file:`theme.conf` file."
msgstr ""

#: ../../../development/theming.rst:34
msgid "HTML templates, if needed."
msgstr ""

#: ../../../development/theming.rst:35
msgid ""
"A ``static/`` directory containing any static files that will be copied to "
"the output static directory on build.  These can be images, styles, script "
"files."
msgstr ""

#: ../../../development/theming.rst:38
msgid ""
"The :file:`theme.conf` file is in INI format [1]_ (readable by the standard "
"Python :mod:`ConfigParser` module) and has the following structure:"
msgstr ""

#: ../../../development/theming.rst:41
msgid ""
"[theme]\n"
"inherit = base theme\n"
"stylesheet = main CSS name\n"
"pygments_style = stylename\n"
"sidebars = localtoc.html, relations.html, sourcelink.html, searchbox.html\n"
"\n"
"[options]\n"
"variable = default value"
msgstr ""
"[theme]\n"
"inherit = base theme\n"
"stylesheet = main CSS name\n"
"pygments_style = stylename\n"
"sidebars = localtoc.html, relations.html, sourcelink.html, searchbox.html\n"
"\n"
"[options]\n"
"variable = default value"

#: ../../../development/theming.rst:52
msgid ""
"The **inherit** setting gives the name of a \"base theme\", or ``none``.  "
"The base theme will be used to locate missing templates (most themes will "
"not have to supply most templates if they use ``basic`` as the base theme), "
"its options will be inherited, and all of its static files will be used as "
"well. If you want to also inherit the stylesheet, include it via CSS' "
"``@import`` in your own."
msgstr ""

#: ../../../development/theming.rst:59
msgid ""
"The **stylesheet** setting gives the name of a CSS file which will be "
"referenced in the HTML header.  If you need more than one CSS file, either "
"include one from the other via CSS' ``@import``, or use a custom HTML "
"template that adds ``<link rel=\"stylesheet\">`` tags as necessary.  Setting "
"the :confval:`html_style` config value will override this setting."
msgstr ""

#: ../../../development/theming.rst:65
msgid ""
"The **pygments_style** setting gives the name of a Pygments style to use for "
"highlighting.  This can be overridden by the user in the :confval:"
"`pygments_style` config value."
msgstr ""

#: ../../../development/theming.rst:69
msgid ""
"The **pygments_dark_style** setting gives the name of a Pygments style to "
"use for highlighting when the CSS media query ``(prefers-color-scheme: "
"dark)`` evaluates to true. It is injected into the page using :meth:`~Sphinx."
"add_css_file()`."
msgstr ""

#: ../../../development/theming.rst:74
msgid ""
"The **sidebars** setting gives the comma separated list of sidebar templates "
"for constructing sidebars.  This can be overridden by the user in the :"
"confval:`html_sidebars` config value."
msgstr ""

#: ../../../development/theming.rst:78
msgid ""
"The **options** section contains pairs of variable names and default values. "
"These options can be overridden by the user in :confval:`html_theme_options` "
"and are accessible from all templates as ``theme_<name>``."
msgstr ""

#: ../../../development/theming.rst:82
msgid "sidebar settings"
msgstr "側邊條設定"

#: ../../../development/theming.rst:89
msgid "Distribute your theme as a Python package"
msgstr ""

#: ../../../development/theming.rst:91
msgid ""
"As a way to distribute your theme, you can use a Python package.  This makes "
"it easier for users to set up your theme."
msgstr ""

#: ../../../development/theming.rst:94
msgid ""
"To distribute your theme as a Python package, please define an entry point "
"called ``sphinx.html_themes`` in your ``setup.py`` file, and write a "
"``setup()`` function to register your themes using ``add_html_theme()`` API "
"in it::"
msgstr ""

#: ../../../development/theming.rst:98
msgid ""
"# 'setup.py'\n"
"setup(\n"
"    ...\n"
"    entry_points = {\n"
"        'sphinx.html_themes': [\n"
"            'name_of_theme = your_package',\n"
"        ]\n"
"    },\n"
"    ...\n"
")\n"
"\n"
"# 'your_package.py'\n"
"from os import path\n"
"\n"
"def setup(app):\n"
"    app.add_html_theme('name_of_theme', path.abspath(path.dirname(__file__)))"
msgstr ""

#: ../../../development/theming.rst:115
msgid ""
"If your theme package contains two or more themes, please call "
"``add_html_theme()`` twice or more."
msgstr ""

#: ../../../development/theming.rst:118
msgid "'sphinx_themes' entry_points feature."
msgstr ""

#: ../../../development/theming.rst:121
msgid "``sphinx_themes`` entry_points has been deprecated."
msgstr ""

#: ../../../development/theming.rst:124
msgid "``sphinx.html_themes`` entry_points feature."
msgstr ""

#: ../../../development/theming.rst:129
msgid "Templating"
msgstr ""

#: ../../../development/theming.rst:131
msgid ""
"The :doc:`guide to templating </templating>` is helpful if you want to write "
"your own templates.  What is important to keep in mind is the order in which "
"Sphinx searches for templates:"
msgstr ""

#: ../../../development/theming.rst:135
msgid "First, in the user's ``templates_path`` directories."
msgstr ""

#: ../../../development/theming.rst:136
msgid "Then, in the selected theme."
msgstr ""

#: ../../../development/theming.rst:137
msgid "Then, in its base theme, its base's base theme, etc."
msgstr ""

#: ../../../development/theming.rst:139
msgid ""
"When extending a template in the base theme with the same name, use the "
"theme name as an explicit directory: ``{% extends \"basic/layout.html\" %}"
"``.  From a user ``templates_path`` template, you can still use the "
"\"exclamation mark\" syntax as described in the templating document."
msgstr ""

#: ../../../development/theming.rst:148
msgid "Static templates"
msgstr ""

#: ../../../development/theming.rst:150
msgid ""
"Since theme options are meant for the user to configure a theme more easily, "
"without having to write a custom stylesheet, it is necessary to be able to "
"template static files as well as HTML files.  Therefore, Sphinx supports so-"
"called \"static templates\", like this:"
msgstr ""

#: ../../../development/theming.rst:155
msgid ""
"If the name of a file in the ``static/`` directory of a theme (or in the "
"user's static path, for that matter) ends with ``_t``, it will be processed "
"by the template engine.  The ``_t`` will be left from the final file name.  "
"For example, the *classic* theme has a file ``static/classic.css_t`` which "
"uses templating to put the color options into the stylesheet.  When a "
"documentation is built with the classic theme, the output directory will "
"contain a ``_static/classic.css`` file where all template tags have been "
"processed."
msgstr ""

#: ../../../development/theming.rst:165
msgid "Use custom page metadata in HTML templates"
msgstr ""

#: ../../../development/theming.rst:167
msgid ""
"Any key / value pairs in :doc:`field lists </usage/restructuredtext/field-"
"lists>` that are placed *before* the page's title will be available to the "
"Jinja template when building the page within the :data:`meta` attribute. For "
"example, if a page had the following text before its first title:"
msgstr ""

#: ../../../development/theming.rst:172
msgid ""
":mykey: My value\n"
"\n"
"My first title\n"
"--------------"
msgstr ""

#: ../../../development/theming.rst:179
msgid "Then it could be accessed within a Jinja template like so:"
msgstr ""

#: ../../../development/theming.rst:181
msgid ""
"{%- if meta is mapping %}\n"
"    {{ meta.get(\"mykey\") }}\n"
"{%- endif %}"
msgstr ""
"{%- if meta is mapping %}\n"
"    {{ meta.get(\"mykey\") }}\n"
"{%- endif %}"

#: ../../../development/theming.rst:187
msgid ""
"Note the check that ``meta`` is a dictionary (\"mapping\" in Jinja "
"terminology) to ensure that using it in this way is valid."
msgstr ""

#: ../../../development/theming.rst:192
msgid "Defining custom template functions"
msgstr ""

#: ../../../development/theming.rst:194
msgid ""
"Sometimes it is useful to define your own function in Python that you wish "
"to then use in a template. For example, if you'd like to insert a template "
"value with logic that depends on the user's configuration in the project, or "
"if you'd like to include non-trivial checks and provide friendly error "
"messages for incorrect configuration in the template."
msgstr ""

#: ../../../development/theming.rst:200
msgid ""
"To define your own template function, you'll need to define two functions "
"inside your module:"
msgstr ""

#: ../../../development/theming.rst:203
msgid ""
"A **page context event handler** (or **registration**) function. This is "
"connected to the :class:`.Sphinx` application via an event callback."
msgstr ""

#: ../../../development/theming.rst:205
msgid "A **template function** that you will use in your Jinja template."
msgstr ""

#: ../../../development/theming.rst:207
msgid ""
"First, define the registration function, which accepts the arguments for :"
"event:`html-page-context`."
msgstr ""

#: ../../../development/theming.rst:210
msgid ""
"Within the registration function, define the template function that you'd "
"like to use within Jinja. The template function should return a string or "
"Python objects (lists, dictionaries) with strings inside that Jinja uses in "
"the templating process"
msgstr ""

#: ../../../development/theming.rst:216
msgid ""
"The template function will have access to all of the variables that are "
"passed to the registration function."
msgstr ""

#: ../../../development/theming.rst:219
msgid ""
"At the end of the registration function, add the template function to the "
"Sphinx application's context with ``context['template_func'] = "
"template_func``."
msgstr ""

#: ../../../development/theming.rst:222
msgid ""
"Finally, in your extension's ``setup()`` function, add your registration "
"function as a callback for :event:`html-page-context`."
msgstr ""

#: ../../../development/theming.rst:225
msgid ""
"# The registration function\n"
" def setup_my_func(app, pagename, templatename, context, doctree):\n"
"     # The template function\n"
"     def my_func(mystring):\n"
"         return \"Your string is %s\" % mystring\n"
"     # Add it to the page's context\n"
"     context['my_func'] = my_func\n"
"\n"
" # Your extension's setup function\n"
" def setup(app):\n"
"     app.connect(\"html-page-context\", setup_my_func)"
msgstr ""

#: ../../../development/theming.rst:239
msgid "Now, you will have access to this function in jinja like so:"
msgstr ""

#: ../../../development/theming.rst:241
msgid ""
"<div>\n"
"{{ my_func(\"some string\") }}\n"
"</div>"
msgstr ""
"<div>\n"
"{{ my_func(\"some string\") }}\n"
"</div>"

#: ../../../development/theming.rst:249
msgid "Add your own static files to the build assets"
msgstr ""

#: ../../../development/theming.rst:251
msgid ""
"If you are packaging your own build assets with an extension (e.g., a CSS or "
"JavaScript file), you need to ensure that they are placed in the ``_static/"
"`` folder of HTML outputs. To do so, you may copy them directly into a "
"build's ``_static/`` folder at build time, generally via an event hook. Here "
"is some sample code to accomplish this:"
msgstr ""

#: ../../../development/theming.rst:257
msgid ""
"from os import path\n"
"from sphinx.util.fileutil import copy_asset_file\n"
"\n"
"def copy_custom_files(app, exc):\n"
"    if app.builder.format == 'html' and not exc:\n"
"        staticdir = path.join(app.builder.outdir, '_static')\n"
"        copy_asset_file('path/to/myextension/_static/myjsfile.js', "
"staticdir)\n"
"\n"
"def setup(app):\n"
"    app.connect('builder-inited', copy_custom_files)"
msgstr ""

#: ../../../development/theming.rst:272
msgid "Inject JavaScript based on user configuration"
msgstr ""

#: ../../../development/theming.rst:274
msgid ""
"If your extension makes use of JavaScript, it can be useful to allow users "
"to control its behavior using their Sphinx configuration. However, this can "
"be difficult to do if your JavaScript comes in the form of a static library "
"(which will not be built with Jinja)."
msgstr ""

#: ../../../development/theming.rst:279
msgid ""
"There are two ways to inject variables into the JavaScript space based on "
"user configuration."
msgstr ""

#: ../../../development/theming.rst:282
msgid ""
"First, you may append ``_t`` to the end of any static files included with "
"your extension. This will cause Sphinx to process these files with the "
"templating engine, allowing you to embed variables and control behavior."
msgstr ""

#: ../../../development/theming.rst:286
msgid "For example, the following JavaScript structure:"
msgstr ""

#: ../../../development/theming.rst:288
msgid ""
"mymodule/\n"
"├── _static\n"
"│   └── myjsfile.js_t\n"
"└── mymodule.py"
msgstr ""
"mymodule/\n"
"├── _static\n"
"│   └── myjsfile.js_t\n"
"└── mymodule.py"

#: ../../../development/theming.rst:295
msgid ""
"Will result in the following static file placed in your HTML's build output:"
msgstr ""

#: ../../../development/theming.rst:297
msgid ""
"_build/\n"
"└── html\n"
"    └── _static\n"
"        └── myjsfile.js"
msgstr ""
"_build/\n"
"└── html\n"
"    └── _static\n"
"        └── myjsfile.js"

#: ../../../development/theming.rst:304
msgid "See :ref:`theming-static-templates` for more information."
msgstr ""

#: ../../../development/theming.rst:306
msgid ""
"Second, you may use the :meth:`Sphinx.add_js_file` method without pointing "
"it to a file. Normally, this method is used to insert a new JavaScript file "
"into your site. However, if you do *not* pass a file path, but instead pass "
"a string to the \"body\" argument, then this text will be inserted as "
"JavaScript into your site's head. This allows you to insert variables into "
"your project's JavaScript from Python."
msgstr ""

#: ../../../development/theming.rst:313
msgid ""
"For example, the following code will read in a user-configured value and "
"then insert this value as a JavaScript variable, which your extension's "
"JavaScript code may use:"
msgstr ""

#: ../../../development/theming.rst:317
msgid ""
"# This function reads in a variable and inserts it into JavaScript\n"
"def add_js_variable(app):\n"
"    # This is a configuration that you've specified for users in `conf.py`\n"
"    js_variable = app.config['my_javascript_variable']\n"
"    js_text = \"var my_variable = '%s';\" % js_variable\n"
"    app.add_js_file(None, body=js_text)\n"
"# We connect this function to the step after the builder is initialized\n"
"def setup(app):\n"
"    # Tell Sphinx about this configuration variable\n"
"    app.add_config_value('my_javascript_variable')\n"
"    # Run the function after the builder is initialized\n"
"    app.connect('builder-inited', add_js_variable)"
msgstr ""

#: ../../../development/theming.rst:332
msgid ""
"As a result, in your theme you can use code that depends on the presence of "
"this variable. Users can control the variable's value by defining it in "
"their :file:`conf.py` file."
msgstr ""

#: ../../../development/theming.rst:337
msgid ""
"It is not an executable Python file, as opposed to :file:`conf.py`, because "
"that would pose an unnecessary security risk if themes are shared."
msgstr ""
