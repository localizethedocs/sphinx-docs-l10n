<!DOCTYPE html>

<html lang="zh-CN" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Sphinx 4.0 &#8212; Sphinx documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=29da98fa" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx13.css?v=ba1752c5" />
    <script src="../_static/documentation_options.js?v=e35a8138"></script>
    <script src="../_static/doctools.js?v=fd6eb6e6"></script>
    <script src="../_static/sphinx_highlight.js?v=5572e0a9"></script>
    <script src="../_static/translations.js?v=beaddf03"></script>
    <link rel="canonical" href="https://projects.localizethedocs.org/sphinx-docs-l10n/changes/4.0.html" />
    <link rel="search" type="application/opensearchdescription+xml"
          title="在 Sphinx documentation 中搜索"
          href="../_static/opensearch.xml"/>
    <link rel="icon" href="../_static/favicon.svg"/>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="Sphinx 3.5" href="3.5.html" />
    <link rel="prev" title="Sphinx 4.1" href="4.1.html" />

 

<script type="text/javascript" src="../ltd-provenance.js"></script>
<script type="text/javascript" src="../ltd-current.js"></script>
<script type="text/javascript" src="../../../ltd-config.js"></script>
<script type="text/javascript" src="../../../ltd-flyout.js"></script>

  </head><body>

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="github" viewBox="0 0 16 16">
    <title>GitHub</title>
    <svg
      stroke="currentColor"
      fill="currentColor"
      stroke-width="0"
      viewBox="0 0 16 16"
    >
      <path
        fill-rule="evenodd"
        d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"
      ></path>
    </svg>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<div class="pageheader">
  <div class="brand">
    <a href="../index.html">
      <img src="../_static/sphinx-logo.svg" alt="logo" />
      <span>Sphinx</span>
    </a>
  </div>
  <div class="icons">
    <a href="https://github.com/sphinx-doc/sphinx" title="Source Code" target="_blank">
      <svg><use href="#github"></use></svg>
    </a>
  </div>
</div>

<div class="related" role="navigation" aria-label="Related">
  <h3>导航</h3>
  <ul>
    <li><a href="../index.html">Documentation</a> &raquo;</li>
      <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Changelog</a> &#187;</li>
    <li class="nav-item nav-item-this"><a href="">Sphinx 4.0</a></li>
  </ul>
</div>

<div class="document">
  <div class="sphinxsidebar" role="navigation" aria-label="Main">
<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="提交" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
      <div class="sphinxsidebar-navigation__contents">
        <h3>On this page</h3>
        <ul>
<li><a class="reference internal" href="#">Sphinx 4.0</a><ul>
<li><a class="reference internal" href="#release-4-0-3-released-jul-05-2021">Release 4.0.3 (released Jul 05, 2021)</a><ul>
<li><a class="reference internal" href="#features-added">Features added</a></li>
<li><a class="reference internal" href="#bugs-fixed">Bugs fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-4-0-2-released-may-20-2021">Release 4.0.2 (released May 20, 2021)</a><ul>
<li><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li><a class="reference internal" href="#incompatible-changes">Incompatible changes</a></li>
<li><a class="reference internal" href="#id1">Bugs fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-4-0-1-released-may-11-2021">Release 4.0.1 (released May 11, 2021)</a><ul>
<li><a class="reference internal" href="#id2">Bugs fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-4-0-0-released-may-09-2021">Release 4.0.0 (released May 09, 2021)</a><ul>
<li><a class="reference internal" href="#id3">Dependencies</a></li>
<li><a class="reference internal" href="#id4">Incompatible changes</a></li>
<li><a class="reference internal" href="#deprecated">Deprecated</a></li>
<li><a class="reference internal" href="#id5">Features added</a></li>
<li><a class="reference internal" href="#id6">Bugs fixed</a></li>
</ul>
</li>
</ul>
</li>
</ul>

      </div>
    <div class="sphinxsidebar-navigation__pages">
      <p class="caption" role="heading"><span class="caption-text">The Basics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usage/installation.html">Installing Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/quickstart.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Build your first project</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usage/index.html">Using Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">Extending Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extdev/index.html">Sphinx API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../latex.html">LaTeX customization</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Community</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../support.html">Get support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../internals/index.html">Contribute to Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Sphinx FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Sphinx authors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../man/index.html">Command-line tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/extensions/index.html">Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/restructuredtext/index.html">reStructuredText</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Changelog</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="8.2.html">Sphinx 8.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="8.1.html">Sphinx 8.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="8.0.html">Sphinx 8.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="7.4.html">Sphinx 7.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="7.3.html">Sphinx 7.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="7.2.html">Sphinx 7.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="7.1.html">Sphinx 7.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="7.0.html">Sphinx 7.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="6.2.html">Sphinx 6.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="6.1.html">Sphinx 6.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="6.0.html">Sphinx 6.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="5.3.html">Sphinx 5.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="5.2.html">Sphinx 5.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="5.1.html">Sphinx 5.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="5.0.html">Sphinx 5.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="4.5.html">Sphinx 4.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="4.4.html">Sphinx 4.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="4.3.html">Sphinx 4.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="4.2.html">Sphinx 4.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="4.1.html">Sphinx 4.1</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Sphinx 4.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.5.html">Sphinx 3.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.4.html">Sphinx 3.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.3.html">Sphinx 3.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.2.html">Sphinx 3.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.1.html">Sphinx 3.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.0.html">Sphinx 3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.4.html">Sphinx 2.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.3.html">Sphinx 2.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.2.html">Sphinx 2.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.1.html">Sphinx 2.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.0.html">Sphinx 2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.8.html">Sphinx 1.8</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.7.html">Sphinx 1.7</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.6.html">Sphinx 1.6</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.5.html">Sphinx 1.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.4.html">Sphinx 1.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.3.html">Sphinx 1.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.2.html">Sphinx 1.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.1.html">Sphinx 1.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.0.html">Sphinx 1.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.6.html">Sphinx 0.6</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.5.html">Sphinx 0.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.4.html">Sphinx 0.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.3.html">Sphinx 0.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.2.html">Sphinx 0.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.1.html">Sphinx 0.1</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Projects using Sphinx</a></li>
</ul>

    </div>
  </div>
  <div class="body" role="main">
    
  <section id="sphinx-4-0">
<h1>Sphinx 4.0<a class="headerlink" href="#sphinx-4-0" title="Link to this heading">¶</a></h1>
<section id="release-4-0-3-released-jul-05-2021">
<h2>Release 4.0.3 (released Jul 05, 2021)<a class="headerlink" href="#release-4-0-3-released-jul-05-2021" title="Link to this heading">¶</a></h2>
<section id="features-added">
<h3>Features added<a class="headerlink" href="#features-added" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>C, add C23 keywords <code class="docutils literal notranslate"><span class="pre">_Decimal32</span></code>, <code class="docutils literal notranslate"><span class="pre">_Decimal64</span></code>, and <code class="docutils literal notranslate"><span class="pre">_Decimal128</span></code>.</p></li>
<li><p>#9354: C, add <a class="reference internal" href="../usage/configuration.html#confval-c_extra_keywords"><code class="xref std std-confval docutils literal notranslate"><span class="pre">c_extra_keywords</span></code></a> to allow user-defined keywords
during parsing.</p></li>
<li><p>Revert the removal of <code class="docutils literal notranslate"><span class="pre">sphinx.util:force_decode()</span></code> to become some 3rd party
extensions available again during 5.0</p></li>
</ul>
</section>
<section id="bugs-fixed">
<h3>Bugs fixed<a class="headerlink" href="#bugs-fixed" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>#9330: changeset domain: <a class="reference internal" href="../usage/restructuredtext/directives.html#directive-versionchanged" title="versionchanged directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">versionchanged</span></code></a> with contents being a list
will cause error during pdf build</p></li>
<li><p>#9313: LaTeX: complex table with merged cells broken since 4.0</p></li>
<li><p>#9305: LaTeX: backslash may cause Improper discretionary list pdf build error
with Japanese engines</p></li>
<li><p>#9354: C, remove special macro names from the keyword list.
See also <a class="reference internal" href="../usage/configuration.html#confval-c_extra_keywords"><code class="xref std std-confval docutils literal notranslate"><span class="pre">c_extra_keywords</span></code></a>.</p></li>
<li><p>#9322: KeyError is raised on PropagateDescDomain transform</p></li>
</ul>
</section>
</section>
<section id="release-4-0-2-released-may-20-2021">
<h2>Release 4.0.2 (released May 20, 2021)<a class="headerlink" href="#release-4-0-2-released-may-20-2021" title="Link to this heading">¶</a></h2>
<section id="dependencies">
<h3>Dependencies<a class="headerlink" href="#dependencies" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>#9216: Support jinja2-3.0</p></li>
</ul>
</section>
<section id="incompatible-changes">
<h3>Incompatible changes<a class="headerlink" href="#incompatible-changes" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>#9222: Update Underscore.js to 1.13.1</p></li>
<li><p>#9217: manpage: Stop creating a section directory on build manpage by default
(see <a class="reference internal" href="../usage/configuration.html#confval-man_make_section_directory"><code class="xref std std-confval docutils literal notranslate"><span class="pre">man_make_section_directory</span></code></a>)</p></li>
</ul>
</section>
<section id="id1">
<h3>Bugs fixed<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>#9210: viewcode: crashed if non importable modules found on parallel build</p></li>
<li><p>#9240: Unknown node error for pending_xref_condition is raised if an extension
that does not support the node installs a missing-reference handler</p></li>
</ul>
</section>
</section>
<section id="release-4-0-1-released-may-11-2021">
<h2>Release 4.0.1 (released May 11, 2021)<a class="headerlink" href="#release-4-0-1-released-may-11-2021" title="Link to this heading">¶</a></h2>
<section id="id2">
<h3>Bugs fixed<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>#9189: autodoc: crashed when ValueError is raised on generating signature
from a property of the class</p></li>
<li><p>#9188: autosummary: warning is emitted if list value is set to
autosummary_generate</p></li>
<li><p>#8380: html search: tags for search result are broken</p></li>
<li><p>#9198: i18n: Babel emits errors when running compile_catalog</p></li>
<li><p>#9205: py domain: The :canonical: option causes &quot;more than one target for
cross-reference&quot; warning</p></li>
<li><p>#9201: websupport: UndefinedError is raised: 'css_tag' is undefined</p></li>
</ul>
</section>
</section>
<section id="release-4-0-0-released-may-09-2021">
<h2>Release 4.0.0 (released May 09, 2021)<a class="headerlink" href="#release-4-0-0-released-may-09-2021" title="Link to this heading">¶</a></h2>
<section id="id3">
<h3>Dependencies<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
<p>4.0.0b1</p>
<ul class="simple">
<li><p>Drop python 3.5 support</p></li>
<li><p>Drop Docutils 0.12 and 0.13 support</p></li>
<li><p>LaTeX: add <code class="docutils literal notranslate"><span class="pre">tex-gyre</span></code> font dependency</p></li>
</ul>
<p>4.0.0b2</p>
<ul class="simple">
<li><p>Support Docutils 0.17.  Please notice it changes the output of HTML builder.
Some themes do not support it, and you need to update your custom CSS to
upgrade it.</p></li>
</ul>
</section>
<section id="id4">
<h3>Incompatible changes<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<p>4.0.0b1</p>
<ul class="simple">
<li><p>#8539: autodoc: info-field-list is generated into the class description when
<a class="reference internal" href="../usage/extensions/autodoc.html#confval-autodoc_typehints"><code class="xref std std-confval docutils literal notranslate"><span class="pre">autodoc_typehints</span></code></a><code class="docutils literal notranslate"><span class="pre">='description'</span></code> and
<a class="reference internal" href="../usage/extensions/autodoc.html#confval-autoclass_content"><code class="xref std std-confval docutils literal notranslate"><span class="pre">autoclass_content</span></code></a><code class="docutils literal notranslate"><span class="pre">='class'</span></code> set</p></li>
<li><p>#8898: extlinks: &quot;%s&quot; becomes required keyword in the link caption string</p></li>
<li><p>domain: The <code class="docutils literal notranslate"><span class="pre">Index</span></code> class becomes subclasses of <code class="docutils literal notranslate"><span class="pre">abc.ABC</span></code> to indicate
methods that must be overridden in the concrete classes</p></li>
<li><p>#4826: py domain: The structure of python objects is changed.  A boolean value
is added to indicate that the python object is canonical one</p></li>
<li><p>#7425: MathJax: The MathJax was changed from 2 to 3. Users using a custom
MathJax configuration may have to set the old MathJax path or update their
configuration for version 3. See <a class="reference internal" href="../usage/extensions/math.html#module-sphinx.ext.mathjax" title="sphinx.ext.mathjax: Render math using JavaScript via MathJax."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.mathjax</span></code></a>.</p></li>
<li><p>#7784: i18n: The msgid for alt text of image is changed</p></li>
<li><p>#5560: napoleon: <a class="reference internal" href="../usage/extensions/napoleon.html#confval-napoleon_use_param"><code class="xref std std-confval docutils literal notranslate"><span class="pre">napoleon_use_param</span></code></a> also affect &quot;other parameters&quot;
section</p></li>
<li><p>#7996: manpage: Make a section directory on build manpage by default (see
<a class="reference internal" href="../usage/configuration.html#confval-man_make_section_directory"><code class="xref std std-confval docutils literal notranslate"><span class="pre">man_make_section_directory</span></code></a>)</p></li>
<li><p>#7849: html: Change the default setting of
<a class="reference internal" href="../usage/configuration.html#confval-html_codeblock_linenos_style"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_codeblock_linenos_style</span></code></a> to <code class="docutils literal notranslate"><span class="pre">'inline'</span></code></p></li>
<li><p>#8380: html search: search results are wrapped with <code class="docutils literal notranslate"><span class="pre">&lt;p&gt;</span></code> instead of
<code class="docutils literal notranslate"><span class="pre">&lt;div&gt;</span></code></p></li>
<li><p>html theme: Move a script tag for documentation_options.js in
basic/layout.html to <code class="docutils literal notranslate"><span class="pre">script_files</span></code> variable</p></li>
<li><p>html theme: Move CSS tags in basic/layout.html to <code class="docutils literal notranslate"><span class="pre">css_files</span></code> variable</p></li>
<li><p>#8915: html theme: Emit a warning for <code class="docutils literal notranslate"><span class="pre">sphinx_rtd_theme</span></code> 0.2.4 or older</p></li>
<li><p>#8508: LaTeX: uplatex becomes a default setting of latex_engine for Japanese
documents</p></li>
<li><p>#5977: py domain: <code class="docutils literal notranslate"><span class="pre">:var:</span></code>, <code class="docutils literal notranslate"><span class="pre">:cvar:</span></code> and <code class="docutils literal notranslate"><span class="pre">:ivar:</span></code> fields do not create
cross-references</p></li>
<li><p>#4550: The <code class="docutils literal notranslate"><span class="pre">align</span></code> attribute of <code class="docutils literal notranslate"><span class="pre">figure</span></code> and <code class="docutils literal notranslate"><span class="pre">table</span></code> nodes becomes
<code class="docutils literal notranslate"><span class="pre">None</span></code> by default instead of <code class="docutils literal notranslate"><span class="pre">'default'</span></code></p></li>
<li><p>#8769: LaTeX refactoring: split sphinx.sty into multiple files and rename
some auxiliary files created in <code class="docutils literal notranslate"><span class="pre">latex</span></code> build output repertory</p></li>
<li><p>#8937: Use explicit title instead of &lt;no title&gt;</p></li>
<li><p>#8487: The :file: option for csv-table directive now recognizes an absolute
path as a relative path from source directory</p></li>
</ul>
<p>4.0.0b2</p>
<ul class="simple">
<li><p>#9023: Change the CSS classes on <a class="reference internal" href="../usage/domains/cpp.html#role-cpp-expr" title="cpp:expr role"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">cpp:expr</span></code></a> and
<a class="reference internal" href="../usage/domains/cpp.html#role-cpp-texpr" title="cpp:texpr role"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">cpp:texpr</span></code></a>.</p></li>
</ul>
</section>
<section id="deprecated">
<h3>Deprecated<a class="headerlink" href="#deprecated" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../usage/configuration.html#confval-html_codeblock_linenos_style"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_codeblock_linenos_style</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">favicon</span></code> and <code class="docutils literal notranslate"><span class="pre">logo</span></code> variable in HTML templates</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sphinx.directives.patches.CSVTable</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sphinx.directives.patches.ListTable</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sphinx.directives.patches.RSTTable</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sphinx.ext.autodoc.directive.DocumenterBridge.filename_set</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sphinx.ext.autodoc.directive.DocumenterBridge.warn()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sphinx.registry.SphinxComponentRegistry.get_source_input()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sphinx.registry.SphinxComponentRegistry.source_inputs</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sphinx.transforms.FigureAligner</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sphinx.util.pycompat.convert_with_2to3()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sphinx.util.pycompat.execfile_()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sphinx.util.smartypants</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sphinx.util.typing.DirectiveOption</span></code></p></li>
</ul>
</section>
<section id="id5">
<h3>Features added<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h3>
<p>4.0.0b1</p>
<ul class="simple">
<li><p>#8924: autodoc: Support <code class="docutils literal notranslate"><span class="pre">bound</span></code> argument for TypeVar</p></li>
<li><p>#7383: autodoc: Support typehints for properties</p></li>
<li><p>#5603: autodoc: Allow to refer to a python class using its canonical name
when the class has two different names; a canonical name and an alias name</p></li>
<li><p>#8539: autodoc: Add <a class="reference internal" href="../usage/extensions/autodoc.html#confval-autodoc_typehints_description_target"><code class="xref std std-confval docutils literal notranslate"><span class="pre">autodoc_typehints_description_target</span></code></a> to control
the behavior of <code class="docutils literal notranslate"><span class="pre">autodoc_typehints=description</span></code></p></li>
<li><p>#8841: autodoc: <a class="reference internal" href="../usage/extensions/autodoc.html#confval-autodoc_docstring_signature"><code class="xref std std-confval docutils literal notranslate"><span class="pre">autodoc_docstring_signature</span></code></a> will continue to look
for multiple signature lines without backslash character</p></li>
<li><p>#7549: autosummary: Enable <a class="reference internal" href="../usage/extensions/autosummary.html#confval-autosummary_generate"><code class="xref std std-confval docutils literal notranslate"><span class="pre">autosummary_generate</span></code></a> by default</p></li>
<li><p>#8898: extlinks: Allow %s in link caption string</p></li>
<li><p>#4826: py domain: Add <code class="docutils literal notranslate"><span class="pre">:canonical:</span></code> option to python directives to describe
the location where the object is defined</p></li>
<li><p>#7199: py domain: Add <a class="reference internal" href="../usage/configuration.html#confval-python_use_unqualified_type_names"><code class="xref std std-confval docutils literal notranslate"><span class="pre">python_use_unqualified_type_names</span></code></a> to suppress
the module name of the python reference if it can be resolved (experimental)</p></li>
<li><p>#7068: py domain: Add <a class="reference internal" href="../usage/domains/python.html#directive-py-property" title="py:property directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">py:property</span></code></a> directive to describe a property</p></li>
<li><p>#7784: i18n: The alt text for image is translated by default (without
<a class="reference internal" href="../usage/configuration.html#confval-gettext_additional_targets"><code class="xref std std-confval docutils literal notranslate"><span class="pre">gettext_additional_targets</span></code></a> setting)</p></li>
<li><p>#2018: html: <a class="reference internal" href="../usage/configuration.html#confval-html_favicon"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_favicon</span></code></a> and <a class="reference internal" href="../usage/configuration.html#confval-html_logo"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_logo</span></code></a> now accept URL
for the image</p></li>
<li><p>#8070: html search: Support searching for 2characters word</p></li>
<li><p>#9036: html theme: Allow to inherite the search page</p></li>
<li><p>#8938: imgconverter: Show the error of the command availability check</p></li>
<li><p>#7830: Add debug logs for change detection of sources and templates</p></li>
<li><p>#8201: Emit a warning if toctree contains duplicated entries</p></li>
<li><p>#8326: <code class="docutils literal notranslate"><span class="pre">master_doc</span></code> is now renamed to <a class="reference internal" href="../usage/configuration.html#confval-root_doc"><code class="xref std std-confval docutils literal notranslate"><span class="pre">root_doc</span></code></a></p></li>
<li><p>#8942: C++, add support for the C++20 spaceship operator, <code class="docutils literal notranslate"><span class="pre">&lt;=&gt;</span></code>.</p></li>
<li><p>#7199: A new node, <code class="docutils literal notranslate"><span class="pre">sphinx.addnodes.pending_xref_condition</span></code> has been added.
It can be used to choose appropriate content of the reference by conditions.</p></li>
</ul>
<p>4.0.0b2</p>
<ul class="simple">
<li><p>#8818: autodoc: Super class having <code class="docutils literal notranslate"><span class="pre">Any</span></code> arguments causes nitpicky warning</p></li>
<li><p>#9095: autodoc: TypeError is raised on processing broken metaclass</p></li>
<li><p>#9110: autodoc: metadata of GenericAlias is not rendered as a reference in
py37+</p></li>
<li><p>#9098: html: copy-range protection for doctests doesn't work in Safari</p></li>
<li><p>#9103: LaTeX: imgconverter: conversion runs even if not needed</p></li>
<li><p>#8127: py domain: Ellipsis in info-field-list causes nitpicky warning</p></li>
<li><p>#9121: py domain: duplicated warning is emitted when both canonical and its
alias objects are defined on the document</p></li>
<li><p>#9023: More CSS classes on domain descriptions, see <a class="reference internal" href="../extdev/nodes.html#nodes"><span class="std std-ref">Doctree node classes added by Sphinx</span></a> for details.</p></li>
<li><p>#8195: mathjax: Rename <a class="reference internal" href="../usage/extensions/math.html#confval-mathjax_config"><code class="xref std std-confval docutils literal notranslate"><span class="pre">mathjax_config</span></code></a> to
<a class="reference internal" href="../usage/extensions/math.html#confval-mathjax2_config"><code class="xref std std-confval docutils literal notranslate"><span class="pre">mathjax2_config</span></code></a> and add <a class="reference internal" href="../usage/extensions/math.html#confval-mathjax3_config"><code class="xref std std-confval docutils literal notranslate"><span class="pre">mathjax3_config</span></code></a></p></li>
</ul>
</section>
<section id="id6">
<h3>Bugs fixed<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h3>
<p>4.0.0b1</p>
<ul class="simple">
<li><p>#8917: autodoc: Raises a warning if function has wrong __globals__ value</p></li>
<li><p>#8415: autodoc: a TypeVar imported from other module is not resolved (in
Python 3.7 or above)</p></li>
<li><p>#8992: autodoc: Failed to resolve types.TracebackType type annotation</p></li>
<li><p>#8905: html: <code class="docutils literal notranslate"><span class="pre">html_add_permalinks=None</span></code> and <code class="docutils literal notranslate"><span class="pre">html_add_permalinks=&quot;&quot;</span></code>
are ignored</p></li>
<li><p>#8380: html search: Paragraphs in search results are not identified as <code class="docutils literal notranslate"><span class="pre">&lt;p&gt;</span></code></p></li>
<li><p>#8915: html theme: The translation of <code class="docutils literal notranslate"><span class="pre">sphinx_rtd_theme</span></code> does not work</p></li>
<li><p>#8342: Emit a warning if a unknown domain is given for directive or role (ex.
<code class="docutils literal notranslate"><span class="pre">:unknown:doc:</span></code>)</p></li>
<li><p>#7241: LaTeX: No wrapping for <code class="docutils literal notranslate"><span class="pre">cpp:enumerator</span></code></p></li>
<li><p>#8711: LaTeX: backticks in code-blocks trigger latexpdf build warning (and font
change) with late TeXLive 2019</p></li>
<li><p>#8253: LaTeX: Figures with no size defined get overscaled (compared to images
with size explicitly set in pixels) (fixed for <code class="docutils literal notranslate"><span class="pre">'pdflatex'/'lualatex'</span></code> only)</p></li>
<li><p>#8881: LaTeX: The depth of bookmarks panel in PDF is not enough for navigation</p></li>
<li><p>#8874: LaTeX: the fix to two minor Pygments LaTeXFormatter output issues ignore
Pygments style</p></li>
<li><p>#8925: LaTeX: 3.5.0 <code class="docutils literal notranslate"><span class="pre">verbatimmaxunderfull</span></code> setting does not work as
expected</p></li>
<li><p>#8980: LaTeX: missing line break in <code class="docutils literal notranslate"><span class="pre">\pysigline</span></code></p></li>
<li><p>#8995: LaTeX: legacy <code class="docutils literal notranslate"><span class="pre">\pysiglinewithargsret</span></code> does not compute correctly
available horizontal space and should use a ragged right style</p></li>
<li><p>#9009: LaTeX: &quot;release&quot; value with underscore leads to invalid LaTeX</p></li>
<li><p>#8911: C++: remove the longest matching prefix in
<a class="reference internal" href="../usage/configuration.html#confval-cpp_index_common_prefix"><code class="xref std std-confval docutils literal notranslate"><span class="pre">cpp_index_common_prefix</span></code></a> instead of the first that matches.</p></li>
<li><p>C, properly reject function declarations when a keyword is used
as parameter name.</p></li>
<li><p>#8933: viewcode: Failed to create back-links on parallel build</p></li>
<li><p>#8960: C and C++, fix rendering of (member) function pointer types in
function parameter lists.</p></li>
<li><p>C++, fix linking of names in array declarators, pointer to member
(function) declarators, and in the argument to <code class="docutils literal notranslate"><span class="pre">sizeof...</span></code>.</p></li>
<li><p>C, fix linking of names in array declarators.</p></li>
</ul>
<p>4.0.0b2</p>
<ul class="simple">
<li><p>C, C++, fix <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> when an <code class="docutils literal notranslate"><span class="pre">alias</span></code> directive is the first C/C++
directive in a file with another C/C++ directive later.</p></li>
</ul>
<p>4.0.0b3</p>
<ul class="simple">
<li><p>#9167: html: Failed to add CSS files to the specific page</p></li>
</ul>
</section>
</section>
</section>


    
  <div class="related-pages" role="navigation" aria-label="Related">
    <a class="prev-page" href="4.1.html">
        <svg><use href="#svg-arrow-right"></use></svg>
        <div class="page-info">
          <div class="context">
            <span>Previous</span>
          </div>
          
          <div class="title">Sphinx 4.1</div>
          
        </div>
      </a>
    <a class="next-page" href="3.5.html">
        <div class="page-info">
          <div class="context">
            <span>Next</span>
          </div>
          <div class="title">Sphinx 3.5</div>
        </div>
        <svg><use href="#svg-arrow-right"></use></svg>
      </a>
  </div>

  </div>
</div>
<div class="footer" role="contentinfo">
  
    &#169; 版权所有 2007-2025, the Sphinx developers.
  由 <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.3.0+/67f1331创建。
</div>
  </body>
</html>