
<!DOCTYPE html>

<html lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Utilities &#8212; Sphinx documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx13.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/translations.js"></script>
    <link rel="canonical" href="https://projects.localizethedocs.org/sphinx-docs-l10n/extdev/utils.html" />
    <link rel="search" type="application/opensearchdescription+xml"
          title="在 Sphinx documentation 中搜索"
          href="../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../_static/favicon.svg"/>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="Deprecated APIs" href="deprecated.html" />
    <link rel="prev" title="i18n API" href="i18n.html" />

    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
 
    <style type="text/css">
      table.right { float: right; margin-left: 20px; }
      table.right td { border: 1px solid #ccc; }
      
    </style>
    <script>
      // intelligent scrolling of the sidebar content
      $(window).scroll(function() {
        var sb = $('.sphinxsidebarwrapper');
        var win = $(window);
        var sbh = sb.height();
        var offset = $('.sphinxsidebar').position()['top'];
        var wintop = win.scrollTop();
        var winbot = wintop + win.innerHeight();
        var curtop = sb.position()['top'];
        var curbot = curtop + sbh;
        // does sidebar fit in window?
        if (sbh < win.innerHeight()) {
          // yes: easy case -- always keep at the top
          sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
                                $(document).height() - sbh - 200]));
        } else {
          // no: only scroll if top/bottom edge of sidebar is at
          // top/bottom edge of window
          if (curtop > wintop && curbot > winbot) {
            sb.css('top', $u.max([wintop - offset - 10, 0]));
          } else if (curtop < wintop && curbot < winbot) {
            sb.css('top', $u.min([winbot - sbh - offset - 20,
                                  $(document).height() - sbh - 200]));
          }
        }
      });
    </script>

<script type="text/javascript" src="../ltd-provenance.js"></script>
<script type="text/javascript" src="../ltd-current.js"></script>
<script type="text/javascript" src="../../../ltd-config.js"></script>
<script type="text/javascript" src="../../../ltd-flyout.js"></script>

  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="../index.html">Home</a></li>
    <li><a href="../usage/installation.html">Get it</a></li>
    <li><a href="../contents.html">Docs</a></li>
    <li><a href="../development/index.html">Extend</a></li>
  </ul>
  <div>
    <a href="../index.html">
      <img src="../_static/sphinxheader.png" alt="SPHINX" />
    </a>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="deprecated.html" title="Deprecated APIs"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="i18n.html" title="i18n API"
             accesskey="P">上一页</a> |</li>
        <li><a href="../index.html">Sphinx home</a>&#160;|</li>
        <li><a href="../contents.html">Documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Developing extensions for Sphinx</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Utilities</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">目录</a></h3>
  <ul>
<li><a class="reference internal" href="#">Utilities</a><ul>
<li><a class="reference internal" href="#base-classes-for-components">Base classes for components</a></li>
<li><a class="reference internal" href="#utility-components">Utility components</a></li>
</ul>
</li>
</ul>

  <h4>上一个主题</h4>
  <p class="topless"><a href="i18n.html"
                        title="上一章">i18n API</a></p>
  <h4>下一个主题</h4>
  <p class="topless"><a href="deprecated.html"
                        title="下一章">Deprecated APIs</a></p>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/extdev/utils.rst.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="转向" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="utilities">
<h1>Utilities<a class="headerlink" href="#utilities" title="永久链接至标题">¶</a></h1>
<p>Sphinx provides utility classes and functions to develop extensions.</p>
<div class="section" id="base-classes-for-components">
<h2>Base classes for components<a class="headerlink" href="#base-classes-for-components" title="永久链接至标题">¶</a></h2>
<p>These base classes are useful to allow your extensions to obtain Sphinx
components (e.g. <a class="reference internal" href="appapi.html#sphinx.config.Config" title="sphinx.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">Config</span></code></a>, <a class="reference internal" href="envapi.html#sphinx.environment.BuildEnvironment" title="sphinx.environment.BuildEnvironment"><code class="xref py py-class docutils literal notranslate"><span class="pre">BuildEnvironment</span></code></a> and so on) easily.</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>The subclasses of them might not work with bare docutils because they
are strongly coupled with Sphinx.</p>
</div>
<dl class="py class">
<dt id="sphinx.transforms.SphinxTransform">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">sphinx.transforms.</span></code><code class="sig-name descname"><span class="pre">SphinxTransform</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">document</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startnode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sphinx/transforms.html#SphinxTransform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.transforms.SphinxTransform" title="永久链接至目标">¶</a></dt>
<dd><p>A base class of Transforms.</p>
<p>Compared with <code class="docutils literal notranslate"><span class="pre">docutils.transforms.Transform</span></code>, this class improves accessibility to
Sphinx APIs.</p>
<dl class="py method">
<dt id="sphinx.transforms.SphinxTransform.app">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">app</span></code><a class="headerlink" href="#sphinx.transforms.SphinxTransform.app" title="永久链接至目标">¶</a></dt>
<dd><p>Reference to the <a class="reference internal" href="appapi.html#sphinx.application.Sphinx" title="sphinx.application.Sphinx"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sphinx</span></code></a> object.</p>
</dd></dl>

<dl class="py method">
<dt id="sphinx.transforms.SphinxTransform.config">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">config</span></code><a class="headerlink" href="#sphinx.transforms.SphinxTransform.config" title="永久链接至目标">¶</a></dt>
<dd><p>Reference to the <a class="reference internal" href="appapi.html#sphinx.config.Config" title="sphinx.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">Config</span></code></a> object.</p>
</dd></dl>

<dl class="py method">
<dt id="sphinx.transforms.SphinxTransform.env">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">env</span></code><a class="headerlink" href="#sphinx.transforms.SphinxTransform.env" title="永久链接至目标">¶</a></dt>
<dd><p>Reference to the <a class="reference internal" href="envapi.html#sphinx.environment.BuildEnvironment" title="sphinx.environment.BuildEnvironment"><code class="xref py py-class docutils literal notranslate"><span class="pre">BuildEnvironment</span></code></a> object.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sphinx.transforms.post_transforms.SphinxPostTransform">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">sphinx.transforms.post_transforms.</span></code><code class="sig-name descname"><span class="pre">SphinxPostTransform</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">document</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startnode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sphinx/transforms/post_transforms.html#SphinxPostTransform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.transforms.post_transforms.SphinxPostTransform" title="永久链接至目标">¶</a></dt>
<dd><p>A base class of post-transforms.</p>
<p>Post transforms are invoked to modify the document to restructure it for outputting.
They do resolving references, convert images, special transformation for each output
formats and so on.  This class helps to implement these post transforms.</p>
<dl class="py method">
<dt id="sphinx.transforms.post_transforms.SphinxPostTransform.apply">
<code class="sig-name descname"><span class="pre">apply</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.14)"><span class="pre">None</span></a><a class="reference internal" href="../_modules/sphinx/transforms/post_transforms.html#SphinxPostTransform.apply"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.transforms.post_transforms.SphinxPostTransform.apply" title="永久链接至目标">¶</a></dt>
<dd><p>Override to apply the transform to the document tree.</p>
</dd></dl>

<dl class="py method">
<dt id="sphinx.transforms.post_transforms.SphinxPostTransform.is_supported">
<code class="sig-name descname"><span class="pre">is_supported</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(在 Python v3.14)"><span class="pre">bool</span></a><a class="reference internal" href="../_modules/sphinx/transforms/post_transforms.html#SphinxPostTransform.is_supported"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.transforms.post_transforms.SphinxPostTransform.is_supported" title="永久链接至目标">¶</a></dt>
<dd><p>Check this transform working for current builder.</p>
</dd></dl>

<dl class="py method">
<dt id="sphinx.transforms.post_transforms.SphinxPostTransform.run">
<code class="sig-name descname"><span class="pre">run</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.14)"><span class="pre">None</span></a><a class="reference internal" href="../_modules/sphinx/transforms/post_transforms.html#SphinxPostTransform.run"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.transforms.post_transforms.SphinxPostTransform.run" title="永久链接至目标">¶</a></dt>
<dd><p>main method of post transforms.</p>
<p>Subclasses should override this method instead of <code class="docutils literal notranslate"><span class="pre">apply()</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sphinx.util.docutils.SphinxDirective">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">sphinx.util.docutils.</span></code><code class="sig-name descname"><span class="pre">SphinxDirective</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arguments</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lineno</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_offset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block_text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state_machine</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sphinx/util/docutils.html#SphinxDirective"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.util.docutils.SphinxDirective" title="永久链接至目标">¶</a></dt>
<dd><p>A base class for Sphinx directives.</p>
<p>This class provides helper methods for Sphinx directives.</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>The subclasses of this class might not work with docutils.
This class is strongly coupled with Sphinx.</p>
</div>
<dl class="py method">
<dt id="sphinx.util.docutils.SphinxDirective.get_source_info">
<code class="sig-name descname"><span class="pre">get_source_info</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(在 Python v3.14)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/sphinx/util/docutils.html#SphinxDirective.get_source_info"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.util.docutils.SphinxDirective.get_source_info" title="永久链接至目标">¶</a></dt>
<dd><p>Get source and line number.</p>
</dd></dl>

<dl class="py method">
<dt id="sphinx.util.docutils.SphinxDirective.set_source_info">
<code class="sig-name descname"><span class="pre">set_source_info</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">docutils.nodes.Node</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.14)"><span class="pre">None</span></a><a class="reference internal" href="../_modules/sphinx/util/docutils.html#SphinxDirective.set_source_info"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.util.docutils.SphinxDirective.set_source_info" title="永久链接至目标">¶</a></dt>
<dd><p>Set source and line number to the node.</p>
</dd></dl>

<dl class="py method">
<dt id="sphinx.util.docutils.SphinxDirective.config">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">config</span></code><a class="headerlink" href="#sphinx.util.docutils.SphinxDirective.config" title="永久链接至目标">¶</a></dt>
<dd><p>Reference to the <a class="reference internal" href="appapi.html#sphinx.config.Config" title="sphinx.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">Config</span></code></a> object.</p>
</dd></dl>

<dl class="py method">
<dt id="sphinx.util.docutils.SphinxDirective.env">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">env</span></code><a class="headerlink" href="#sphinx.util.docutils.SphinxDirective.env" title="永久链接至目标">¶</a></dt>
<dd><p>Reference to the <a class="reference internal" href="envapi.html#sphinx.environment.BuildEnvironment" title="sphinx.environment.BuildEnvironment"><code class="xref py py-class docutils literal notranslate"><span class="pre">BuildEnvironment</span></code></a> object.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sphinx.util.docutils.SphinxRole">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">sphinx.util.docutils.</span></code><code class="sig-name descname"><span class="pre">SphinxRole</span></code><a class="reference internal" href="../_modules/sphinx/util/docutils.html#SphinxRole"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.util.docutils.SphinxRole" title="永久链接至目标">¶</a></dt>
<dd><p>A base class for Sphinx roles.</p>
<p>This class provides helper methods for Sphinx roles.</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>The subclasses of this class might not work with docutils.
This class is strongly coupled with Sphinx.</p>
</div>
<dl class="py method">
<dt id="sphinx.util.docutils.SphinxRole.config">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">config</span></code><a class="headerlink" href="#sphinx.util.docutils.SphinxRole.config" title="永久链接至目标">¶</a></dt>
<dd><p>Reference to the <a class="reference internal" href="appapi.html#sphinx.config.Config" title="sphinx.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">Config</span></code></a> object.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sphinx.util.docutils.SphinxRole.content">
<code class="sig-name descname"><span class="pre">content</span></code><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#sphinx.util.docutils.SphinxRole.content" title="永久链接至目标">¶</a></dt>
<dd><p>A list of strings, the directive content for customization</p>
</dd></dl>

<dl class="py method">
<dt id="sphinx.util.docutils.SphinxRole.env">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">env</span></code><a class="headerlink" href="#sphinx.util.docutils.SphinxRole.env" title="永久链接至目标">¶</a></dt>
<dd><p>Reference to the <a class="reference internal" href="envapi.html#sphinx.environment.BuildEnvironment" title="sphinx.environment.BuildEnvironment"><code class="xref py py-class docutils literal notranslate"><span class="pre">BuildEnvironment</span></code></a> object.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sphinx.util.docutils.SphinxRole.inliner">
<code class="sig-name descname"><span class="pre">inliner</span></code><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#sphinx.util.docutils.SphinxRole.inliner" title="永久链接至目标">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">docutils.parsers.rst.states.Inliner</span></code> object.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sphinx.util.docutils.SphinxRole.lineno">
<code class="sig-name descname"><span class="pre">lineno</span></code><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#sphinx.util.docutils.SphinxRole.lineno" title="永久链接至目标">¶</a></dt>
<dd><p>The line number where the interpreted text begins.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sphinx.util.docutils.SphinxRole.name">
<code class="sig-name descname"><span class="pre">name</span></code><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#sphinx.util.docutils.SphinxRole.name" title="永久链接至目标">¶</a></dt>
<dd><p>The role name actually used in the document.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sphinx.util.docutils.SphinxRole.options">
<code class="sig-name descname"><span class="pre">options</span></code><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#sphinx.util.docutils.SphinxRole.options" title="永久链接至目标">¶</a></dt>
<dd><p>A dictionary of directive options for customization</p>
</dd></dl>

<dl class="py attribute">
<dt id="sphinx.util.docutils.SphinxRole.rawtext">
<code class="sig-name descname"><span class="pre">rawtext</span></code><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#sphinx.util.docutils.SphinxRole.rawtext" title="永久链接至目标">¶</a></dt>
<dd><p>A string containing the entire interpreted text input.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sphinx.util.docutils.SphinxRole.text">
<code class="sig-name descname"><span class="pre">text</span></code><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#sphinx.util.docutils.SphinxRole.text" title="永久链接至目标">¶</a></dt>
<dd><p>The interpreted text content.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sphinx.util.docutils.ReferenceRole">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">sphinx.util.docutils.</span></code><code class="sig-name descname"><span class="pre">ReferenceRole</span></code><a class="reference internal" href="../_modules/sphinx/util/docutils.html#ReferenceRole"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.util.docutils.ReferenceRole" title="永久链接至目标">¶</a></dt>
<dd><p>A base class for reference roles.</p>
<p>The reference roles can accpet <code class="docutils literal notranslate"><span class="pre">link</span> <span class="pre">title</span> <span class="pre">&lt;target&gt;</span></code> style as a text for
the role.  The parsed result; link title and target will be stored to
<code class="docutils literal notranslate"><span class="pre">self.title</span></code> and <code class="docutils literal notranslate"><span class="pre">self.target</span></code>.</p>
<dl class="py attribute">
<dt id="sphinx.util.docutils.ReferenceRole.disabled">
<code class="sig-name descname"><span class="pre">disabled</span></code><em class="property"> <span class="pre">=</span> <span class="pre">False</span></em><a class="headerlink" href="#sphinx.util.docutils.ReferenceRole.disabled" title="永久链接至目标">¶</a></dt>
<dd><p>A boolean indicates the reference is disabled.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sphinx.util.docutils.ReferenceRole.has_explicit_title">
<code class="sig-name descname"><span class="pre">has_explicit_title</span></code><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#sphinx.util.docutils.ReferenceRole.has_explicit_title" title="永久链接至目标">¶</a></dt>
<dd><p>A boolean indicates the role has explicit title or not.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sphinx.util.docutils.ReferenceRole.target">
<code class="sig-name descname"><span class="pre">target</span></code><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#sphinx.util.docutils.ReferenceRole.target" title="永久链接至目标">¶</a></dt>
<dd><p>The link target for the interpreted text.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sphinx.util.docutils.ReferenceRole.title">
<code class="sig-name descname"><span class="pre">title</span></code><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#sphinx.util.docutils.ReferenceRole.title" title="永久链接至目标">¶</a></dt>
<dd><p>The link title for the interpreted text.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sphinx.transforms.post_transforms.images.ImageConverter">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">sphinx.transforms.post_transforms.images.</span></code><code class="sig-name descname"><span class="pre">ImageConverter</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sphinx/transforms/post_transforms/images.html#ImageConverter"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.transforms.post_transforms.images.ImageConverter" title="永久链接至目标">¶</a></dt>
<dd><p>A base class for image converters.</p>
<p>An image converter is kind of Docutils transform module.  It is used to
convert image files which does not supported by builder to appropriate
format for that builder.</p>
<p>For example, <a class="reference internal" href="../usage/builders/index.html#sphinx.builders.latex.LaTeXBuilder" title="sphinx.builders.latex.LaTeXBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">LaTeX</span> <span class="pre">builder</span></code></a> supports PDF,
PNG and JPEG as image formats.  However it does not support SVG images.
For such case, to use image converters allows to embed these
unsupported images into the document.  One of image converters;
<a class="reference internal" href="../usage/extensions/imgconverter.html#sphinx-ext-imgconverter"><span class="std std-ref">sphinx.ext.imgconverter</span></a> can convert
a SVG image to PNG format using Imagemagick internally.</p>
<p>There are three steps to make your custom image converter:</p>
<ol class="arabic simple">
<li><p>Make a subclass of <code class="docutils literal notranslate"><span class="pre">ImageConverter</span></code> class</p></li>
<li><p>Override <code class="docutils literal notranslate"><span class="pre">conversion_rules</span></code>, <code class="docutils literal notranslate"><span class="pre">is_available()</span></code> and <code class="docutils literal notranslate"><span class="pre">convert()</span></code></p></li>
<li><p>Register your image converter to Sphinx using
<a class="reference internal" href="appapi.html#sphinx.application.Sphinx.add_post_transform" title="sphinx.application.Sphinx.add_post_transform"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sphinx.add_post_transform()</span></code></a></p></li>
</ol>
<dl class="py method">
<dt id="sphinx.transforms.post_transforms.images.ImageConverter.convert">
<code class="sig-name descname"><span class="pre">convert</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_from</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">_to</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.14)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(在 Python v3.14)"><span class="pre">bool</span></a><a class="reference internal" href="../_modules/sphinx/transforms/post_transforms/images.html#ImageConverter.convert"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.transforms.post_transforms.images.ImageConverter.convert" title="永久链接至目标">¶</a></dt>
<dd><p>Convert a image file to expected format.</p>
<p><em>_from</em> is a path for source image file, and <em>_to</em> is a path for
destination file.</p>
</dd></dl>

<dl class="py method">
<dt id="sphinx.transforms.post_transforms.images.ImageConverter.is_available">
<code class="sig-name descname"><span class="pre">is_available</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(在 Python v3.14)"><span class="pre">bool</span></a><a class="reference internal" href="../_modules/sphinx/transforms/post_transforms/images.html#ImageConverter.is_available"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.transforms.post_transforms.images.ImageConverter.is_available" title="永久链接至目标">¶</a></dt>
<dd><p>Return the image converter is available or not.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sphinx.transforms.post_transforms.images.ImageConverter.available">
<code class="sig-name descname"><span class="pre">available</span></code><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#sphinx.transforms.post_transforms.images.ImageConverter.available" title="永久链接至目标">¶</a></dt>
<dd><p>The converter is available or not.  Will be filled at the first call of
the build.  The result is shared in the same process.</p>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">待处理</p>
<p>This should be refactored not to store the state without class
variable.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="sphinx.transforms.post_transforms.images.ImageConverter.conversion_rules">
<code class="sig-name descname"><span class="pre">conversion_rules</span></code><em class="property"> <span class="pre">=</span> <span class="pre">[]</span></em><a class="headerlink" href="#sphinx.transforms.post_transforms.images.ImageConverter.conversion_rules" title="永久链接至目标">¶</a></dt>
<dd><p>A conversion rules the image converter supports.
It is represented as a list of pair of source image format (mimetype) and
destination one:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conversion_rules</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s1">&#39;image/svg+xml&#39;</span><span class="p">,</span> <span class="s1">&#39;image/png&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;image/gif&#39;</span><span class="p">,</span> <span class="s1">&#39;image/png&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;application/pdf&#39;</span><span class="p">,</span> <span class="s1">&#39;image/png&#39;</span><span class="p">),</span>
<span class="p">]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="utility-components">
<h2>Utility components<a class="headerlink" href="#utility-components" title="永久链接至标题">¶</a></h2>
<dl class="py class">
<dt id="sphinx.events.EventManager">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">sphinx.events.</span></code><code class="sig-name descname"><span class="pre">EventManager</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Sphinx</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sphinx/events.html#EventManager"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.events.EventManager" title="永久链接至目标">¶</a></dt>
<dd><p>Event manager for Sphinx.</p>
<dl class="py method">
<dt id="sphinx.events.EventManager.add">
<code class="sig-name descname"><span class="pre">add</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.14)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.14)"><span class="pre">None</span></a><a class="reference internal" href="../_modules/sphinx/events.html#EventManager.add"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.events.EventManager.add" title="永久链接至目标">¶</a></dt>
<dd><p>Register a custom Sphinx event.</p>
</dd></dl>

<dl class="py method">
<dt id="sphinx.events.EventManager.connect">
<code class="sig-name descname"><span class="pre">connect</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">priority</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(在 Python v3.14)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(在 Python v3.14)"><span class="pre">int</span></a><a class="reference internal" href="../_modules/sphinx/events.html#EventManager.connect"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.events.EventManager.connect" title="永久链接至目标">¶</a></dt>
<dd><p>Connect a handler to specific event.</p>
</dd></dl>

<dl class="py method">
<dt id="sphinx.events.EventManager.disconnect">
<code class="sig-name descname"><span class="pre">disconnect</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">listener_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(在 Python v3.14)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.14)"><span class="pre">None</span></a><a class="reference internal" href="../_modules/sphinx/events.html#EventManager.disconnect"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.events.EventManager.disconnect" title="永久链接至目标">¶</a></dt>
<dd><p>Disconnect a handler.</p>
</dd></dl>

<dl class="py method">
<dt id="sphinx.events.EventManager.emit">
<code class="sig-name descname"><span class="pre">emit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allowed_exceptions</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(在 Python v3.14)"><span class="pre">Exception</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="p"><span class="pre">…</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><a class="reference internal" href="../_modules/sphinx/events.html#EventManager.emit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.events.EventManager.emit" title="永久链接至目标">¶</a></dt>
<dd><p>Emit a Sphinx event.</p>
</dd></dl>

<dl class="py method">
<dt id="sphinx.events.EventManager.emit_firstresult">
<code class="sig-name descname"><span class="pre">emit_firstresult</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allowed_exceptions</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(在 Python v3.14)"><span class="pre">Exception</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="p"><span class="pre">…</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Any</span><a class="reference internal" href="../_modules/sphinx/events.html#EventManager.emit_firstresult"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#sphinx.events.EventManager.emit_firstresult" title="永久链接至目标">¶</a></dt>
<dd><p>Emit a Sphinx event and returns first result.</p>
<p>This returns the result of the first handler that doesn’t return <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

</dd></dl>

</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="总目录"
             >索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="deprecated.html" title="Deprecated APIs"
             >下一页</a> |</li>
        <li class="right" >
          <a href="i18n.html" title="i18n API"
             >上一页</a> |</li>
        <li><a href="../index.html">Sphinx home</a>&#160;|</li>
        <li><a href="../contents.html">Documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" >Developing extensions for Sphinx</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Utilities</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; 版权所有 2007-2021, Georg Brandl and the Sphinx team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.4.
    </div>
  </body>
</html>